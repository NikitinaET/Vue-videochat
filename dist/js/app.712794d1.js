(function(e){function r(r){for(var o,c,s=r[0],u=r[1],l=r[2],d=0,f=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&f.push(n[c][0]),n[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);i&&i(r);while(f.length)f.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,r=0;r<a.length;r++){for(var t=a[r],o=!0,s=1;s<t.length;s++){var u=t[s];0!==n[u]&&(o=!1)}o&&(a.splice(r--,1),e=c(c.s=t[0]))}return e}var o={},n={app:0},a=[];function c(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=o,c.d=function(e,r,t){c.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,r){if(1&r&&(e=c(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)c.d(t,o,function(r){return e[r]}.bind(null,o));return t},c.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(r,"a",r),r},c.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=r,s=s.slice();for(var l=0;l<s.length;l++)r(s[l]);var i=u;a.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"034f":function(e,r,t){"use strict";t("85ec")},"56d7":function(e,r,t){"use strict";t.r(r);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),n=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{attrs:{id:"app"}},[o("img",{staticClass:"animate-fade-slow object-contain h-80 w-full",attrs:{alt:"Vue logo",src:t("cf05")}}),o("Adsense",{attrs:{"data-ad-client":"ca-pub-7023023584987784","data-ad-slot":"5070366491"}}),o("vue-webrtc",{ref:"webrtc",attrs:{width:"100%",roomId:e.roomId},on:{"share-started":e.shareStarted,"share-stopped":e.leftRoom,"left-room":e.leftRoom,"joined-room":e.joinedRoom}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.roomId,expression:"roomId"}],attrs:{placeholder:"Enter room ID"},domProps:{value:e.roomId},on:{input:function(r){r.target.composing||(e.roomId=r.target.value)}}}),o("button",{staticClass:"ml-5",attrs:{type:"button"},on:{click:e.toggleRoom}},[e._v(e._s(e.hasJoined?"Leave Room":"Join Room"))]),e.hasJoined?o("button",{staticClass:"ml-5",attrs:{type:"button"},on:{click:e.screenShare}},[e._v("Screen Share")]):e._e()],1)},a=[],c=t("1da1"),s=(t("96cf"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("9861"),t("a15b"),t("159b"),{name:"App",data:function(){return{roomId:"roomId",hasJoined:!1,mediaRecorder:null,chunks:[],userStream:null}},mounted:function(){},methods:{onStop:function(){var e=new Blob(this.chunks,{type:"video/webm"});this.chunks=[];var r=new File([e],"meeting.webm",{type:"video/webm"});console.log(r);var t=document.createElement("a"),o=URL.createObjectURL(r);t.href=o,t.download="meeting.webm",document.body.appendChild(t),t.click()},pushData:function(e){this.chunks.push(e.data),console.log(e.data)},record:function(){this.mediaRecorder.start()},toggleRoom:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!e.hasJoined){r.next=7;break}e.$refs.webrtc.leave(),e.hasJoined=!1,e.mediaRecorder.stop(),r.next=14;break;case 7:return r.next=9,e.$refs.webrtc.join();case 9:e.userStream=e.$refs.webrtc.videoList[0].stream,e.mediaRecorder=new MediaRecorder(e.userStream),e.mediaRecorder.ondataavailable=function(r){return e.pushData(r)},e.mediaRecorder.onstop=function(){return e.onStop()},e.hasJoined=!0;case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](0),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},screenShare:function(){this.$refs.webrtc.shareScreen()},addTrack:function(e){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{console.log(e),o=r.$refs.webrtc.videoList,console.log(o),o.forEach((function(e){console.log(e.getTracks()),r.userStream.addTrack(e)}))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})))()},joinedRoom:function(e){console.log(e)},shareStarted:function(e){console.log(e)},leftRoom:function(e){console.log(e)}}}),u=s,l=(t("034f"),t("2877")),i=Object(l["a"])(u,n,a,!1,null,null,null),d=i.exports,f=t("6293"),p=t.n(f),b=t("119b"),m=(t("b972"),t("2a13")),h=t.n(m),g={TInput:{classes:"form-input border-2 text-gray-700",variants:{error:"form-input border-2 border-red-300 bg-red-100"}},TButton:{classes:"rounded-lg border block inline-flex items-center justify-center block px-4 py-2 transition duration-100 ease-in-out focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed",variants:{secondary:"rounded-lg border block inline-flex items-center justify-center bg-purple-500 border-purple-500 hover:bg-purple-600 hover:border-purple-600"}},TAlert:{classes:{wrapper:"rounded bg-blue-100 p-4 flex text-sm border-l-4 border-blue-500",body:"flex-grow text-blue-700",close:"text-blue-700 hover:text-blue-500 hover:bg-blue-200 ml-4 rounded",closeIcon:"h-5 w-5 fill-current"},variants:{danger:{wrapper:"rounded bg-red-100 p-4 flex text-sm border-l-4 border-red-500",body:"flex-grow text-red-700",close:"text-red-700 hover:text-red-500 hover:bg-red-200 ml-4 rounded"}}}};o["default"].use(h.a,g),o["default"].use(t("395c")),o["default"].use(b["a"].Adsense),o["default"].use(p.a),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(d)}}).$mount("#app")},"85ec":function(e,r,t){},cf05:function(e,r,t){e.exports=t.p+"img/logo.4c50e485.png"}});
//# sourceMappingURL=app.712794d1.js.map